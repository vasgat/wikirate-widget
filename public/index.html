<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/javascript">
        var waitForGlobal = function (key, callback) {
          if (window[key]) {
            callback();
          } else {
            setTimeout(function () {
              waitForGlobal(key, callback);
            }, 100);
          }
        };

        waitForGlobal("WikirateWidget", function () {
          WikirateWidget.renderWidget({
            element: "#app",
            numberOfTopAnswersToShow: 10,
            title: "Top 10 Greenhouse Gas Emitting Companies (Scope 1 and 2 combined)",
            unitName: 'MT CO2e',
            unitDimension: 1000000,
            colors: ['#0091E0', '#ED4D50'],
            showMetricTitlesForSubcharts: false,
            wikirateServer: "https://demo.wikirate.org",
            metric: "Commons+Greenhouse_Gas_Emissions_Scope_1_and_2_combined",
            answerParams: [
              { filter: { project: "Question Widget: GHG emissions", year: "2017" }},
              { filter: { project: "Question Widget: GHG emissions" , year: "2018" }},
            ]
          });
        });
      </script>
  </body>
</html>
